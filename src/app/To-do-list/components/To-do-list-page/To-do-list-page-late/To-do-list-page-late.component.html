<div class="p-4 relative">
    <h1>Late</h1>
  
    <p-button
      pButton
      type="button"
      label="Add New Task"
      icon="pi pi-plus"
      severity="contrast"
      (click)="openDialog()"
      class="mb-3"
    />
  
    <p-dialog
      header="New Task"
      [(visible)]="showDialog"
      [modal]="true"
      [closable]="true"
      [style]="{ width: '30vw' }"
    >
      <div class="flex flex-col gap-3">
        <input
          type="text"
          pInputText
          placeholder="Title"
          [(ngModel)]="newTask.title"
        />
  
        <textarea
          pTextarea
          rows="3"
          placeholder="Description"
          [(ngModel)]="newTask.description"
        ></textarea>
  
        <p-button
          pButton
          label="Save"
          icon="pi pi-check"
          (click)="saveTask()"
        />
      </div>
    </p-dialog>
  
    @if (tasks.length > 0) {
      <h3 class="mt-4">Late Tasks</h3>
      <ul class="pl-4">
        @for (task of tasks; track task.id) {
          <li class="mb-2 border p-2 rounded shadow-sm flex items-center justify-between hover:bg-gray-100">
            <div (click)="editTask(task)" class="cursor-pointer flex-grow">
              <strong>{{ task.title }}</strong><br />
              <small>{{ task.description }}</small>
            </div>
            <p-button
              icon="pi pi-pencil"
              styleClass="p-button-rounded p-button-sm"
              (click)="openEditForm(task)"
            ></p-button>
          </li>
        }
      </ul>
    } @else {
      <p class="text-gray-500 mt-4">No Late tasks yet.</p>
    }
  
    @if (showEditForm && selectedTask) {
      <div class="edit-task-panel">
        <to-do-list-edit [task]="selectedTask" (closed)="onEditFormClosed($event)"></to-do-list-edit>
      </div>
    }
  </div>